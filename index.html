<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Prototipo Oficina virtual de radicación</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<style>
    body{
        padding: 30px;
    }
</style>
    </head>
    <body>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="index.html">Oficina de radicación <span class="sr-only">(current)</span></a>
                </li>
                
                
                
              </ul>
              
            </div>
          </nav>

          <br>
          <br>
          

        <h3>Prototipo Oficina virtual de radicación</h3>
        <br><br>

        <form action="">
            <h2>Información del destinatario</h2>
            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Asunto</label>
                <select style="margin-left: 14px;" id="asunto" name="asunto"  onchange="selectArea()" class="custom-select col-sm-4" id="interesPrestamo" required>
                    <option codigo="03" value="03">Inventarios</option>
                    <option codigo="12" value="12">Convenios</option>
                    <option codigo="46" value="46">Vivienda</option>

                    
                </select>

              


               
                <br>
                <br>
                <br>

                
                
                
            </div>

            <div class="form-group row">

                <label for="colFormLabel" class="col-sm-2 col-form-label">Dependencia</label>


                <select style="margin-left: 14px;" id="dependencia" name="dependencia" onchange="valor()" class="custom-select col-sm-4">
                    <option codigo="12" value="1">Secretaria General</option>
                    <option codigo="46" value="2">Grupo de vivienda</option>
                    <option codigo="12" value="4">Oficina juridica</option>
                    <option codigo="03" value="5">Grupo de inventarios</option>
                </select>
    

            </div>


            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Código de dependencia</label>
                <input style="margin-left: 14px;" size="60"  type="text" id="codigoDependencia" class="codigoDependencia" readonly  >

            </div>
           


            
            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label" >Destinatario</label>
                <input style="margin-left: 14px;" size="60"  type="text" id="destinatario" class="destinatario" readonly  >
            </div>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Correo</label>
                <input style="margin-left: 14px;" size="60"  type="text" id="correoDestinatario" class="correoDestinatario" readonly >
            </div>

            <hr>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Regional</label>
                <select style="margin-left: 14px;" id="regional" name="regional"  onchange="municipios()" class="custom-select col-sm-9"  >
                    <option value="1" >Dirección General</option>
                    <option value="2"> Antioquia </option>
                    <option value="3">  Valle </option>
                    <option value="4"> Atlantico </option>

                    
                </select>
                <br>
                <br>
                <br>
                
                
            </div>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label" >Código Regional</label>
                <input style="margin-left: 14px;"  type="text" id="codigoMunicipio" class="codigoMunicipio" readonly  >
            </div>
            <hr>
            <h2>Información del Remitente</h2>
            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Nombre</label>
                <input type="text" size="60" id="nombre" class="nombre" >
            </div>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Empresa a la que pertenece</label>
                <input type="text" size="60" id="empresa" class="empresa" >
            </div>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Cargo</label>
                <input type="text" size="60" id="cargo" class="cargo" >
            </div>

            <hr>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Correo Electronico    </label>
                <input type="text" size="60" id="email" class="email" required >
            </div>

            <div class="form-group row">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Dirección Fisica    </label>
                <input type="text" size="60" id="dirección" class="dirección" required >
            </div>

            <hr>

            <div class="form-group">
                
                    <label for="exampleInputEmail1">Tipo Identificación </label>
                    <br>
                    <select id="area" name="area"  onchange="selectArea()"  id="interesPrestamo" required>
                        <option value="" >CC</option>
                        <option value=""> TI </option>
                        
                        
                    </select>

            </div>

            <hr>


            <div class="form-group">
                
                <label for="exampleInputEmail1">Número de identificación </label>
                <br>
                <input type="text" size="60" id="aa" class="aa" >
            </div>

            <hr>


            <div class="form-group">
                
                <label for="exampleInputEmail1" >Mensaje </label>
                <br>
                <input required type="text"  size="60" id="aa" class="aa"  required >
            </div>

            <hr>

                
        </div>

        <label><input type="checkbox" id="cbox1" value="first_checkbox"> Acepto recibir la respuesta via electronica</label><br>



            
            <button type="button" onclick="enviar()" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Enviar</button>
        </form>

        <br>
        <br>
        <br>
        <br>
        <br>

        <div>
            
        </div>

        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">¡ Radicación Exitosa !</h5>

                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                    <p>Señor(a) <span id="nombreR"></span>, recuerda que puedes hacer seguimiento a tu comunicado con el número de radicado  <span id="codigoR"></span>, se le ha enviado toda la información al correo  <span id="correoR"></span> </p>
                    
                    <br>
                    <span id="txtComunicado"></span>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
              </div>
            </div>
          </div>

        <script>

        var id1 = document.getElementById("asunto");
        var id2 = document.getElementById("dependencia");

        
        
        // Añade un evento change al elemento id1, asociado a la función cambiar()
        if (id1.addEventListener) {     // Para la mayoría de los navegadores, excepto IE 8 y anteriores
            id1.addEventListener("change", cambiar);
        } else if (id1.attachEvent) {   // Para IE 8 y anteriores
            id1.attachEvent("change", cambiar); // attachEvent() es el método equivalente a addEventListener()
        }

        // Definición de la función cambiar()
        function cambiar() {
            for (var i = 0; i < id2.options.length; i++)
            
            // -- Inicio del comentario -- 
            // Muestra solamente los id2 que sean iguales a los id1 seleccionados, según la propiedad display
            if(id2.options[i].getAttribute("codigo") == id1.options[id1.selectedIndex].getAttribute("codigo")){
                id2.options[i].style.display = "block";
            }else{
                id2.options[i].style.display = "none";
            }
            // -- Fin del comentario --
            
            console.log(id2.value);
            id2.value = "";
        }

        function municipios(){
            var areaX = document.getElementById("regional").value;
            console.log(area);
            var municipioR = document.getElementById("codigoMunicipio");
            console.log("el numero de area es ", areaX);

            if (areaX === "1") {
                municipioR.value = "1";
            } else if(areaX === "2") {
                municipioR.value = "5";

            } else if (areaX === "3"){
                municipioR.value = "76";
            } else if (areaX === "4"){
                municipioR.value = "8";
            } 



        }
        
        function valor(){
            var valorX = document.getElementById("dependencia").value;
            var inputCodigo = document.getElementById("codigoDependencia");
            var desti = document.getElementById("destinatario");
            var email = document.getElementById("correoDestinatario");
            console.log(valorX)

            if(valorX === "1") {
                inputCodigo.value = "1-2020";
                desti.value = "Veronica Ponce Vallejo";
                email.value = "secretariageneral@sena.edu.co";



            } else if(valorX === "5"){

                inputCodigo.value = "1-4047";
                desti.value = "Flavio Ortiz";
                email.value = "fortiz@sena.edu.co";
                
            } else if(valorX === "4"){

            inputCodigo.value = "1-0010";
            desti.value = "Oscar Castaño";
            email.value = "ocastano@sena.edu.co";

            }  else if(valorX === "2"){

            inputCodigo.value = "1-2026";
            desti.value = "Victoria Consuelo";
            email.value = "vramirez@sena.edu.co";

            }   
             else {
                inputCodigo.value = "";
                desti.value = "";
                email.value = "";

            }
        }

        // Llamada a la función cambiar()
        cambiar();
            var coordinador = document.getElementById("coordinador");
            var comunicado = document.getElementById("aa");
            var txtComunicado = document.getElementById("txtComunicado");
            var nombre = document.getElementById("nombre");
            var cod = document.getElementById("codigoR");
            var correo = document.getElementById("email");
            var correoRa = document.getElementById("correoR");
            

            function enviar() {
                console.log(comunicado.value);
                /**
                if(selectArea()=='Oficina de sistemas'){
                    coordinador.innerHTML = "Coordinador encargado: Hernan Rios";
                    txtComunicado.innerHTML = "Comunicado " +  comunicado.value;
                    

                } else if(selectArea()=="Secretaria general"){
                    coordinador.innerHTML = "Coordinador encargado: Veronica Ponce Vallejo";
                    txtComunicado.innerHTML = "Comunicado " +  comunicado.value;


                } else if(selectArea()=="Formacion profesional"){
                    coordinador.innerHTML = "Coordinador encargado: Farid de Jesús Figueroa";
                    txtComunicado.innerHTML = "Comunicado " +  comunicado.value;


                }else if(selectArea()=="Empleo y trabajo"){
                    coordinador.innerHTML = "Coordinador encargado: Hernan Fuentes";
                    txtComunicado.innerHTML = "Comunicado " +  comunicado.value;


                }
                **/

                nombreR.innerHTML = nombre.value;
                console.log(nombre.value)
        
                cod.innerHTML =  getRandomArbitrary();
                correoRa.innerHTML = correo.value;
            }

            function getRandomArbitrary(min, max) {
               return Math.floor(Math.random()* 70000);
             
        }
           

        </script>
    
    </body>
</html>